import { NextResponse } from 'next/server';export async function POST(req:Request){const {password}=await req.json();if(!password)return NextResponse.json({error:'missing password'},{status:400});if(password!==process.env.ADMIN_PASSWORD)return NextResponse.json({error:'invalid'},{status:401});const t=process.env.ADMIN_TOKEN||'token';const res=NextResponse.json({ok:true});res.cookies.set('admin_session',t,{httpOnly:true,secure:true,sameSite:'lax',path:'/',maxAge:60*60*24*30});return res;}
